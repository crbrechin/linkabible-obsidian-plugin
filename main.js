/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LinkaBiblePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  biblePath: "1 Bible",
  enableAutoLink: true,
  linkFormat: "brackets",
  enableValidation: true
};
var LinkaBiblePlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.bibleBooks = /* @__PURE__ */ new Map();
    this.originalBookNames = /* @__PURE__ */ new Map();
  }
  // Maps lowercase key to original case
  async onload() {
    await this.loadSettings();
    this.initializeBibleBooks();
    this.addCommand({
      id: "convert-bible-reference",
      name: "Convert Bible Reference to Link",
      editorCallback: (editor) => {
        this.convertSelectedText(editor);
      }
    });
    this.addCommand({
      id: "convert-all-bible-references",
      name: "Convert All Bible References in Note",
      editorCallback: (editor) => {
        this.convertAllReferences(editor);
      }
    });
    this.addCommand({
      id: "insert-bible-link",
      name: "Insert Bible Link",
      callback: () => {
        this.showBibleLinkModal();
      }
    });
    this.addSettingTab(new LinkaBibleSettingTab(this.app, this));
    if (this.settings.enableAutoLink) {
      this.registerEvent(
        this.app.workspace.on("editor-paste", (evt, editor, info) => {
          this.handlePaste(editor, info);
        })
      );
    }
    console.log("Bible Linker plugin loaded");
  }
  onunload() {
    console.log("Bible Linker plugin unloaded");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  initializeBibleBooks() {
    const books = {
      // Old Testament
      "Genesis": { number: "01", name: "Genesis", chapters: 50 },
      "Exodus": { number: "02", name: "Exodus", chapters: 40 },
      "Leviticus": { number: "03", name: "Leviticus", chapters: 27 },
      "Numbers": { number: "04", name: "Numbers", chapters: 36 },
      "Deuteronomy": { number: "05", name: "Deuteronomy", chapters: 34 },
      "Joshua": { number: "06", name: "Joshua", chapters: 24 },
      "Judges": { number: "07", name: "Judges", chapters: 21 },
      "Ruth": { number: "08", name: "Ruth", chapters: 4 },
      "1 Samuel": { number: "09", name: "I_Samuel", chapters: 31 },
      "I Samuel": { number: "09", name: "I_Samuel", chapters: 31 },
      "2 Samuel": { number: "10", name: "II_Samuel", chapters: 24 },
      "II Samuel": { number: "10", name: "II_Samuel", chapters: 24 },
      "1 Kings": { number: "11", name: "I_Kings", chapters: 22 },
      "I Kings": { number: "11", name: "I_Kings", chapters: 22 },
      "2 Kings": { number: "12", name: "II_Kings", chapters: 25 },
      "II Kings": { number: "12", name: "II_Kings", chapters: 25 },
      "1 Chronicles": { number: "13", name: "I_Chronicles", chapters: 29 },
      "I Chronicles": { number: "13", name: "I_Chronicles", chapters: 29 },
      "2 Chronicles": { number: "14", name: "II_Chronicles", chapters: 36 },
      "II Chronicles": { number: "14", name: "II_Chronicles", chapters: 36 },
      "Ezra": { number: "15", name: "Ezra", chapters: 10 },
      "Nehemiah": { number: "16", name: "Nehemiah", chapters: 13 },
      "Esther": { number: "17", name: "Esther", chapters: 10 },
      "Job": { number: "18", name: "Job", chapters: 42 },
      "Psalms": { number: "19", name: "Psalms", chapters: 150 },
      "Proverbs": { number: "20", name: "Proverbs", chapters: 31 },
      "Ecclesiastes": { number: "21", name: "Ecclesiastes", chapters: 12 },
      "Song of Solomon": { number: "22", name: "Song_of_Solomon", chapters: 8 },
      "Song of Songs": { number: "22", name: "Song_of_Solomon", chapters: 8 },
      "Isaiah": { number: "23", name: "Isaiah", chapters: 66 },
      "Jeremiah": { number: "24", name: "Jeremiah", chapters: 52 },
      "Lamentations": { number: "25", name: "Lamentations", chapters: 5 },
      "Ezekiel": { number: "26", name: "Ezekiel", chapters: 48 },
      "Daniel": { number: "27", name: "Daniel", chapters: 12 },
      "Hosea": { number: "28", name: "Hosea", chapters: 14 },
      "Joel": { number: "29", name: "Joel", chapters: 3 },
      "Amos": { number: "30", name: "Amos", chapters: 9 },
      "Obadiah": { number: "31", name: "Obadiah", chapters: 1 },
      "Jonah": { number: "32", name: "Jonah", chapters: 4 },
      "Micah": { number: "33", name: "Micah", chapters: 7 },
      "Nahum": { number: "34", name: "Nahum", chapters: 3 },
      "Habakkuk": { number: "35", name: "Habakkuk", chapters: 3 },
      "Zephaniah": { number: "36", name: "Zephaniah", chapters: 3 },
      "Haggai": { number: "37", name: "Haggai", chapters: 2 },
      "Zechariah": { number: "38", name: "Zechariah", chapters: 14 },
      "Malachi": { number: "39", name: "Malachi", chapters: 4 },
      // New Testament
      "Matthew": { number: "40", name: "Matthew", chapters: 28 },
      "Mark": { number: "41", name: "Mark", chapters: 16 },
      "Luke": { number: "42", name: "Luke", chapters: 24 },
      "John": { number: "43", name: "John", chapters: 21 },
      "Acts": { number: "44", name: "Acts", chapters: 28 },
      "Romans": { number: "45", name: "Romans", chapters: 16 },
      "1 Corinthians": { number: "46", name: "I_Corinthians", chapters: 16 },
      "I Corinthians": { number: "46", name: "I_Corinthians", chapters: 16 },
      "2 Corinthians": { number: "47", name: "II_Corinthians", chapters: 13 },
      "II Corinthians": { number: "47", name: "II_Corinthians", chapters: 13 },
      "Galatians": { number: "48", name: "Galatians", chapters: 6 },
      "Ephesians": { number: "49", name: "Ephesians", chapters: 6 },
      "Philippians": { number: "50", name: "Philippians", chapters: 4 },
      "Colossians": { number: "51", name: "Colossians", chapters: 4 },
      "1 Thessalonians": { number: "52", name: "I_Thessalonians", chapters: 5 },
      "I Thessalonians": { number: "52", name: "I_Thessalonians", chapters: 5 },
      "2 Thessalonians": { number: "53", name: "II_Thessalonians", chapters: 3 },
      "II Thessalonians": { number: "53", name: "II_Thessalonians", chapters: 3 },
      "1 Timothy": { number: "54", name: "I_Timothy", chapters: 6 },
      "I Timothy": { number: "54", name: "I_Timothy", chapters: 6 },
      "2 Timothy": { number: "55", name: "II_Timothy", chapters: 4 },
      "II Timothy": { number: "55", name: "II_Timothy", chapters: 4 },
      "Titus": { number: "56", name: "Titus", chapters: 3 },
      "Philemon": { number: "57", name: "Philemon", chapters: 1 },
      "Hebrews": { number: "58", name: "Hebrews", chapters: 13 },
      "James": { number: "59", name: "James", chapters: 5 },
      "1 Peter": { number: "60", name: "I_Peter", chapters: 5 },
      "I Peter": { number: "60", name: "I_Peter", chapters: 5 },
      "2 Peter": { number: "61", name: "II_Peter", chapters: 3 },
      "II Peter": { number: "61", name: "II_Peter", chapters: 3 },
      "1 John": { number: "62", name: "I_John", chapters: 5 },
      "I John": { number: "62", name: "I_John", chapters: 5 },
      "2 John": { number: "63", name: "II_John", chapters: 1 },
      "II John": { number: "63", name: "II_John", chapters: 1 },
      "3 John": { number: "64", name: "III_John", chapters: 1 },
      "III John": { number: "64", name: "III_John", chapters: 1 },
      "Jude": { number: "65", name: "Jude", chapters: 1 },
      "Revelation": { number: "66", name: "Revelations", chapters: 22 },
      "Revelations": { number: "66", name: "Revelations", chapters: 22 }
    };
    for (const [name, info] of Object.entries(books)) {
      const lowerKey = name.toLowerCase();
      this.bibleBooks.set(lowerKey, info);
      this.originalBookNames.set(lowerKey, name);
    }
  }
  parseBibleReference(text) {
    const trimmed = text.trim();
    const bookMatch = this.findBookMatch(trimmed);
    if (!bookMatch)
      return null;
    const { book, remaining } = bookMatch;
    if (!remaining.trim()) {
      return { book, chapter: null, verses: [] };
    }
    const chapterVerseMatch = remaining.match(/^(\d+)(?::(.+))?$/);
    if (!chapterVerseMatch)
      return null;
    const chapter = parseInt(chapterVerseMatch[1]);
    const verseString = chapterVerseMatch[2];
    if (!verseString) {
      return { book, chapter, verses: [] };
    }
    const verses = this.parseVerses(verseString);
    return { book, chapter, verses };
  }
  findBookMatch(text) {
    const sortedBooks = Array.from(this.bibleBooks.keys()).sort((a, b) => b.length - a.length);
    for (const bookKey of sortedBooks) {
      const bookInfo = this.bibleBooks.get(bookKey);
      if (!bookInfo)
        continue;
      const bookName = this.getBookDisplayName(bookKey);
      const regex = new RegExp(`^${bookName.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")}\\s*(.*)$`, "i");
      const match = text.match(regex);
      if (match) {
        return {
          book: bookName,
          remaining: match[1].trim()
        };
      }
    }
    return null;
  }
  getBookDisplayName(key) {
    return this.originalBookNames.get(key) || key;
  }
  parseVerses(verseString) {
    const verses = [];
    const parts = verseString.split(",");
    for (const part of parts) {
      const trimmed = part.trim();
      if (trimmed.includes("-")) {
        const [start, end] = trimmed.split("-").map((v) => parseInt(v.trim()));
        if (start && end && start <= end) {
          for (let i = start; i <= end; i++) {
            verses.push(i.toString());
          }
        }
      } else {
        const verseNum = parseInt(trimmed);
        if (verseNum) {
          verses.push(verseNum.toString());
        }
      }
    }
    return verses;
  }
  generateBibleLink(reference) {
    const parsed = this.parseBibleReference(reference);
    if (!parsed)
      return `[[${reference}]]`;
    const { book, chapter, verses } = parsed;
    if (!chapter) {
      return `[[${book}]]`;
    } else if (!verses || verses.length === 0) {
      return `[[${book} ${chapter}]]`;
    } else {
      const verseString = verses.length === 1 ? verses[0] : verses.join(",");
      return `[[${book} ${chapter}:${verseString}]]`;
    }
  }
  validateBibleReference(reference) {
    const parsed = this.parseBibleReference(reference);
    if (!parsed) {
      return { isValid: false, message: "Invalid reference format" };
    }
    const { book, chapter } = parsed;
    const bookKey = book.toLowerCase();
    const bookInfo = this.bibleBooks.get(bookKey);
    if (!bookInfo) {
      return { isValid: false, message: `Book "${book}" not found` };
    }
    if (chapter && (chapter < 1 || chapter > bookInfo.chapters)) {
      return { isValid: false, message: `Chapter ${chapter} not found in ${book} (1-${bookInfo.chapters})` };
    }
    return { isValid: true, message: "Valid reference" };
  }
  convertSelectedText(editor) {
    const selectedText = editor.getSelection();
    if (!selectedText) {
      new import_obsidian.Notice("Please select some text to convert");
      return;
    }
    const link = this.generateBibleLink(selectedText);
    editor.replaceSelection(link);
    if (this.settings.enableValidation) {
      const validation = this.validateBibleReference(selectedText);
      if (validation.isValid) {
        new import_obsidian.Notice(`Converted: ${selectedText} \u2192 ${link}`);
      } else {
        new import_obsidian.Notice(`Warning: ${validation.message}`);
      }
    }
  }
  convertAllReferences(editor) {
    const content = editor.getValue();
    const bibleRefRegex = /\b(?:Genesis|Exodus|Leviticus|Numbers|Deuteronomy|Joshua|Judges|Ruth|1\s+Samuel|2\s+Samuel|I\s+Samuel|II\s+Samuel|1\s+Kings|2\s+Kings|I\s+Kings|II\s+Kings|1\s+Chronicles|2\s+Chronicles|I\s+Chronicles|II\s+Chronicles|Ezra|Nehemiah|Esther|Job|Psalms|Proverbs|Ecclesiastes|Song\s+of\s+Solomon|Song\s+of\s+Songs|Isaiah|Jeremiah|Lamentations|Ezekiel|Daniel|Hosea|Joel|Amos|Obadiah|Jonah|Micah|Nahum|Habakkuk|Zephaniah|Haggai|Zechariah|Malachi|Matthew|Mark|Luke|John|Acts|Romans|1\s+Corinthians|2\s+Corinthians|I\s+Corinthians|II\s+Corinthians|Galatians|Ephesians|Philippians|Colossians|1\s+Thessalonians|2\s+Thessalonians|I\s+Thessalonians|II\s+Thessalonians|1\s+Timothy|2\s+Timothy|I\s+Timothy|II\s+Timothy|Titus|Philemon|Hebrews|James|1\s+Peter|2\s+Peter|I\s+Peter|II\s+Peter|1\s+John|2\s+John|3\s+John|I\s+John|II\s+John|III\s+John|Jude|Revelation|Revelations)(?:\s+\d+(?::\d+(?:-\d+)?(?:,\d+(?:-\d+)?)*)?)?\b/g;
    let newContent = content;
    let match;
    let convertedCount = 0;
    while ((match = bibleRefRegex.exec(content)) !== null) {
      const reference = match[0];
      if (!reference.includes("[[") && !reference.includes("]]")) {
        const link = this.generateBibleLink(reference);
        newContent = newContent.replace(reference, link);
        convertedCount++;
      }
    }
    editor.setValue(newContent);
    new import_obsidian.Notice(`Converted ${convertedCount} Bible references to links`);
  }
  handlePaste(editor, info) {
  }
  showBibleLinkModal() {
    const modal = new BibleLinkModal(this.app, this);
    modal.open();
  }
};
var BibleLinkModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Insert Bible Link" });
    const input = contentEl.createEl("input", {
      type: "text",
      placeholder: "Enter Bible reference (e.g., James 4:1-2)"
    });
    input.style.cssText = "width: 100%; margin: 10px 0; padding: 8px;";
    const resultDiv = contentEl.createEl("div", {
      text: "Link will appear here..."
    });
    resultDiv.style.cssText = "margin: 10px 0; padding: 8px; background: #f0f0f0; border-radius: 4px;";
    const buttonDiv = contentEl.createEl("div");
    buttonDiv.style.cssText = "margin: 10px 0;";
    const insertBtn = buttonDiv.createEl("button", { text: "Insert Link" });
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    input.addEventListener("input", () => {
      const reference = input.value.trim();
      if (reference) {
        const link = this.plugin.generateBibleLink(reference);
        const validation = this.plugin.validateBibleReference(reference);
        resultDiv.innerHTML = `
					<strong>Link:</strong> ${link}<br>
					<strong>Valid:</strong> ${validation.isValid ? "Yes" : "No"}<br>
					<strong>Message:</strong> ${validation.message}
				`;
      } else {
        resultDiv.textContent = "Link will appear here...";
      }
    });
    insertBtn.addEventListener("click", () => {
      const reference = input.value.trim();
      if (reference) {
        const link = this.plugin.generateBibleLink(reference);
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (activeView) {
          activeView.editor.replaceSelection(link);
        }
        this.close();
      }
    });
    cancelBtn.addEventListener("click", () => {
      this.close();
    });
    input.focus();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LinkaBibleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Bible Linker Settings" });
    new import_obsidian.Setting(containerEl).setName("Bible folder path").setDesc("Path to your Bible folder (relative to vault root)").addText((text) => text.setPlaceholder("1 Bible").setValue(this.plugin.settings.biblePath).onChange(async (value) => {
      this.plugin.settings.biblePath = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Enable auto-linking").setDesc("Automatically convert Bible references when pasting text").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableAutoLink).onChange(async (value) => {
      this.plugin.settings.enableAutoLink = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Enable validation").setDesc("Show validation messages when converting references").addToggle((toggle) => toggle.setValue(this.plugin.settings.enableValidation).onChange(async (value) => {
      this.plugin.settings.enableValidation = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "Available Commands" });
    containerEl.createEl("p", { text: "\u2022 Convert Bible Reference to Link - Convert selected text" });
    containerEl.createEl("p", { text: "\u2022 Convert All Bible References in Note - Convert all references in current note" });
    containerEl.createEl("p", { text: "\u2022 Insert Bible Link - Open modal to insert a Bible link" });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFRGaWxlLCBOb3RpY2UsIE1hcmtkb3duVmlldywgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbnRlcmZhY2UgQmlibGVMaW5rZXJTZXR0aW5ncyB7XHJcblx0YmlibGVQYXRoOiBzdHJpbmc7XHJcblx0ZW5hYmxlQXV0b0xpbms6IGJvb2xlYW47XHJcblx0bGlua0Zvcm1hdDogJ2JyYWNrZXRzJyB8ICd3aWtpbGlua3MnO1xyXG5cdGVuYWJsZVZhbGlkYXRpb246IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEJpYmxlTGlua2VyU2V0dGluZ3MgPSB7XHJcblx0YmlibGVQYXRoOiAnMSBCaWJsZScsXHJcblx0ZW5hYmxlQXV0b0xpbms6IHRydWUsXHJcblx0bGlua0Zvcm1hdDogJ2JyYWNrZXRzJyxcclxuXHRlbmFibGVWYWxpZGF0aW9uOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmthQmlibGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBCaWJsZUxpbmtlclNldHRpbmdzO1xyXG5cdHByaXZhdGUgYmlibGVCb29rczogTWFwPHN0cmluZywgeyBudW1iZXI6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBjaGFwdGVyczogbnVtYmVyIH0+ID0gbmV3IE1hcCgpO1xyXG5cdHByaXZhdGUgb3JpZ2luYWxCb29rTmFtZXM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7IC8vIE1hcHMgbG93ZXJjYXNlIGtleSB0byBvcmlnaW5hbCBjYXNlXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmluaXRpYWxpemVCaWJsZUJvb2tzKCk7XHJcblx0XHRcclxuXHRcdC8vIEFkZCBjb21tYW5kc1xyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjb252ZXJ0LWJpYmxlLXJlZmVyZW5jZScsXHJcblx0XHRcdG5hbWU6ICdDb252ZXJ0IEJpYmxlIFJlZmVyZW5jZSB0byBMaW5rJyxcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNvbnZlcnRTZWxlY3RlZFRleHQoZWRpdG9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjb252ZXJ0LWFsbC1iaWJsZS1yZWZlcmVuY2VzJyxcclxuXHRcdFx0bmFtZTogJ0NvbnZlcnQgQWxsIEJpYmxlIFJlZmVyZW5jZXMgaW4gTm90ZScsXHJcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5jb252ZXJ0QWxsUmVmZXJlbmNlcyhlZGl0b3IpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2luc2VydC1iaWJsZS1saW5rJyxcclxuXHRcdFx0bmFtZTogJ0luc2VydCBCaWJsZSBMaW5rJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNob3dCaWJsZUxpbmtNb2RhbCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc2V0dGluZ3MgdGFiXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IExpbmthQmlibGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Ly8gQXV0by1saW5rIG9uIHBhc3RlIGlmIGVuYWJsZWRcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUF1dG9MaW5rKSB7XHJcblx0XHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2VkaXRvci1wYXN0ZScsIChldnQsIGVkaXRvciwgaW5mbykgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVQYXN0ZShlZGl0b3IsIGluZm8pO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ0JpYmxlIExpbmtlciBwbHVnaW4gbG9hZGVkJyk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdCaWJsZSBMaW5rZXIgcGx1Z2luIHVubG9hZGVkJyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRpbml0aWFsaXplQmlibGVCb29rcygpIHtcclxuXHRcdGNvbnN0IGJvb2tzID0ge1xyXG5cdFx0XHQvLyBPbGQgVGVzdGFtZW50XHJcblx0XHRcdCdHZW5lc2lzJzogeyBudW1iZXI6ICcwMScsIG5hbWU6ICdHZW5lc2lzJywgY2hhcHRlcnM6IDUwIH0sXHJcblx0XHRcdCdFeG9kdXMnOiB7IG51bWJlcjogJzAyJywgbmFtZTogJ0V4b2R1cycsIGNoYXB0ZXJzOiA0MCB9LFxyXG5cdFx0XHQnTGV2aXRpY3VzJzogeyBudW1iZXI6ICcwMycsIG5hbWU6ICdMZXZpdGljdXMnLCBjaGFwdGVyczogMjcgfSxcclxuXHRcdFx0J051bWJlcnMnOiB7IG51bWJlcjogJzA0JywgbmFtZTogJ051bWJlcnMnLCBjaGFwdGVyczogMzYgfSxcclxuXHRcdFx0J0RldXRlcm9ub215JzogeyBudW1iZXI6ICcwNScsIG5hbWU6ICdEZXV0ZXJvbm9teScsIGNoYXB0ZXJzOiAzNCB9LFxyXG5cdFx0XHQnSm9zaHVhJzogeyBudW1iZXI6ICcwNicsIG5hbWU6ICdKb3NodWEnLCBjaGFwdGVyczogMjQgfSxcclxuXHRcdFx0J0p1ZGdlcyc6IHsgbnVtYmVyOiAnMDcnLCBuYW1lOiAnSnVkZ2VzJywgY2hhcHRlcnM6IDIxIH0sXHJcblx0XHRcdCdSdXRoJzogeyBudW1iZXI6ICcwOCcsIG5hbWU6ICdSdXRoJywgY2hhcHRlcnM6IDQgfSxcclxuXHRcdFx0JzEgU2FtdWVsJzogeyBudW1iZXI6ICcwOScsIG5hbWU6ICdJX1NhbXVlbCcsIGNoYXB0ZXJzOiAzMSB9LFxyXG5cdFx0XHQnSSBTYW11ZWwnOiB7IG51bWJlcjogJzA5JywgbmFtZTogJ0lfU2FtdWVsJywgY2hhcHRlcnM6IDMxIH0sXHJcblx0XHRcdCcyIFNhbXVlbCc6IHsgbnVtYmVyOiAnMTAnLCBuYW1lOiAnSUlfU2FtdWVsJywgY2hhcHRlcnM6IDI0IH0sXHJcblx0XHRcdCdJSSBTYW11ZWwnOiB7IG51bWJlcjogJzEwJywgbmFtZTogJ0lJX1NhbXVlbCcsIGNoYXB0ZXJzOiAyNCB9LFxyXG5cdFx0XHQnMSBLaW5ncyc6IHsgbnVtYmVyOiAnMTEnLCBuYW1lOiAnSV9LaW5ncycsIGNoYXB0ZXJzOiAyMiB9LFxyXG5cdFx0XHQnSSBLaW5ncyc6IHsgbnVtYmVyOiAnMTEnLCBuYW1lOiAnSV9LaW5ncycsIGNoYXB0ZXJzOiAyMiB9LFxyXG5cdFx0XHQnMiBLaW5ncyc6IHsgbnVtYmVyOiAnMTInLCBuYW1lOiAnSUlfS2luZ3MnLCBjaGFwdGVyczogMjUgfSxcclxuXHRcdFx0J0lJIEtpbmdzJzogeyBudW1iZXI6ICcxMicsIG5hbWU6ICdJSV9LaW5ncycsIGNoYXB0ZXJzOiAyNSB9LFxyXG5cdFx0XHQnMSBDaHJvbmljbGVzJzogeyBudW1iZXI6ICcxMycsIG5hbWU6ICdJX0Nocm9uaWNsZXMnLCBjaGFwdGVyczogMjkgfSxcclxuXHRcdFx0J0kgQ2hyb25pY2xlcyc6IHsgbnVtYmVyOiAnMTMnLCBuYW1lOiAnSV9DaHJvbmljbGVzJywgY2hhcHRlcnM6IDI5IH0sXHJcblx0XHRcdCcyIENocm9uaWNsZXMnOiB7IG51bWJlcjogJzE0JywgbmFtZTogJ0lJX0Nocm9uaWNsZXMnLCBjaGFwdGVyczogMzYgfSxcclxuXHRcdFx0J0lJIENocm9uaWNsZXMnOiB7IG51bWJlcjogJzE0JywgbmFtZTogJ0lJX0Nocm9uaWNsZXMnLCBjaGFwdGVyczogMzYgfSxcclxuXHRcdFx0J0V6cmEnOiB7IG51bWJlcjogJzE1JywgbmFtZTogJ0V6cmEnLCBjaGFwdGVyczogMTAgfSxcclxuXHRcdFx0J05laGVtaWFoJzogeyBudW1iZXI6ICcxNicsIG5hbWU6ICdOZWhlbWlhaCcsIGNoYXB0ZXJzOiAxMyB9LFxyXG5cdFx0XHQnRXN0aGVyJzogeyBudW1iZXI6ICcxNycsIG5hbWU6ICdFc3RoZXInLCBjaGFwdGVyczogMTAgfSxcclxuXHRcdFx0J0pvYic6IHsgbnVtYmVyOiAnMTgnLCBuYW1lOiAnSm9iJywgY2hhcHRlcnM6IDQyIH0sXHJcblx0XHRcdCdQc2FsbXMnOiB7IG51bWJlcjogJzE5JywgbmFtZTogJ1BzYWxtcycsIGNoYXB0ZXJzOiAxNTAgfSxcclxuXHRcdFx0J1Byb3ZlcmJzJzogeyBudW1iZXI6ICcyMCcsIG5hbWU6ICdQcm92ZXJicycsIGNoYXB0ZXJzOiAzMSB9LFxyXG5cdFx0XHQnRWNjbGVzaWFzdGVzJzogeyBudW1iZXI6ICcyMScsIG5hbWU6ICdFY2NsZXNpYXN0ZXMnLCBjaGFwdGVyczogMTIgfSxcclxuXHRcdFx0J1Nvbmcgb2YgU29sb21vbic6IHsgbnVtYmVyOiAnMjInLCBuYW1lOiAnU29uZ19vZl9Tb2xvbW9uJywgY2hhcHRlcnM6IDggfSxcclxuXHRcdFx0J1Nvbmcgb2YgU29uZ3MnOiB7IG51bWJlcjogJzIyJywgbmFtZTogJ1Nvbmdfb2ZfU29sb21vbicsIGNoYXB0ZXJzOiA4IH0sXHJcblx0XHRcdCdJc2FpYWgnOiB7IG51bWJlcjogJzIzJywgbmFtZTogJ0lzYWlhaCcsIGNoYXB0ZXJzOiA2NiB9LFxyXG5cdFx0XHQnSmVyZW1pYWgnOiB7IG51bWJlcjogJzI0JywgbmFtZTogJ0plcmVtaWFoJywgY2hhcHRlcnM6IDUyIH0sXHJcblx0XHRcdCdMYW1lbnRhdGlvbnMnOiB7IG51bWJlcjogJzI1JywgbmFtZTogJ0xhbWVudGF0aW9ucycsIGNoYXB0ZXJzOiA1IH0sXHJcblx0XHRcdCdFemVraWVsJzogeyBudW1iZXI6ICcyNicsIG5hbWU6ICdFemVraWVsJywgY2hhcHRlcnM6IDQ4IH0sXHJcblx0XHRcdCdEYW5pZWwnOiB7IG51bWJlcjogJzI3JywgbmFtZTogJ0RhbmllbCcsIGNoYXB0ZXJzOiAxMiB9LFxyXG5cdFx0XHQnSG9zZWEnOiB7IG51bWJlcjogJzI4JywgbmFtZTogJ0hvc2VhJywgY2hhcHRlcnM6IDE0IH0sXHJcblx0XHRcdCdKb2VsJzogeyBudW1iZXI6ICcyOScsIG5hbWU6ICdKb2VsJywgY2hhcHRlcnM6IDMgfSxcclxuXHRcdFx0J0Ftb3MnOiB7IG51bWJlcjogJzMwJywgbmFtZTogJ0Ftb3MnLCBjaGFwdGVyczogOSB9LFxyXG5cdFx0XHQnT2JhZGlhaCc6IHsgbnVtYmVyOiAnMzEnLCBuYW1lOiAnT2JhZGlhaCcsIGNoYXB0ZXJzOiAxIH0sXHJcblx0XHRcdCdKb25haCc6IHsgbnVtYmVyOiAnMzInLCBuYW1lOiAnSm9uYWgnLCBjaGFwdGVyczogNCB9LFxyXG5cdFx0XHQnTWljYWgnOiB7IG51bWJlcjogJzMzJywgbmFtZTogJ01pY2FoJywgY2hhcHRlcnM6IDcgfSxcclxuXHRcdFx0J05haHVtJzogeyBudW1iZXI6ICczNCcsIG5hbWU6ICdOYWh1bScsIGNoYXB0ZXJzOiAzIH0sXHJcblx0XHRcdCdIYWJha2t1ayc6IHsgbnVtYmVyOiAnMzUnLCBuYW1lOiAnSGFiYWtrdWsnLCBjaGFwdGVyczogMyB9LFxyXG5cdFx0XHQnWmVwaGFuaWFoJzogeyBudW1iZXI6ICczNicsIG5hbWU6ICdaZXBoYW5pYWgnLCBjaGFwdGVyczogMyB9LFxyXG5cdFx0XHQnSGFnZ2FpJzogeyBudW1iZXI6ICczNycsIG5hbWU6ICdIYWdnYWknLCBjaGFwdGVyczogMiB9LFxyXG5cdFx0XHQnWmVjaGFyaWFoJzogeyBudW1iZXI6ICczOCcsIG5hbWU6ICdaZWNoYXJpYWgnLCBjaGFwdGVyczogMTQgfSxcclxuXHRcdFx0J01hbGFjaGknOiB7IG51bWJlcjogJzM5JywgbmFtZTogJ01hbGFjaGknLCBjaGFwdGVyczogNCB9LFxyXG5cclxuXHRcdFx0Ly8gTmV3IFRlc3RhbWVudFxyXG5cdFx0XHQnTWF0dGhldyc6IHsgbnVtYmVyOiAnNDAnLCBuYW1lOiAnTWF0dGhldycsIGNoYXB0ZXJzOiAyOCB9LFxyXG5cdFx0XHQnTWFyayc6IHsgbnVtYmVyOiAnNDEnLCBuYW1lOiAnTWFyaycsIGNoYXB0ZXJzOiAxNiB9LFxyXG5cdFx0XHQnTHVrZSc6IHsgbnVtYmVyOiAnNDInLCBuYW1lOiAnTHVrZScsIGNoYXB0ZXJzOiAyNCB9LFxyXG5cdFx0XHQnSm9obic6IHsgbnVtYmVyOiAnNDMnLCBuYW1lOiAnSm9obicsIGNoYXB0ZXJzOiAyMSB9LFxyXG5cdFx0XHQnQWN0cyc6IHsgbnVtYmVyOiAnNDQnLCBuYW1lOiAnQWN0cycsIGNoYXB0ZXJzOiAyOCB9LFxyXG5cdFx0XHQnUm9tYW5zJzogeyBudW1iZXI6ICc0NScsIG5hbWU6ICdSb21hbnMnLCBjaGFwdGVyczogMTYgfSxcclxuXHRcdFx0JzEgQ29yaW50aGlhbnMnOiB7IG51bWJlcjogJzQ2JywgbmFtZTogJ0lfQ29yaW50aGlhbnMnLCBjaGFwdGVyczogMTYgfSxcclxuXHRcdFx0J0kgQ29yaW50aGlhbnMnOiB7IG51bWJlcjogJzQ2JywgbmFtZTogJ0lfQ29yaW50aGlhbnMnLCBjaGFwdGVyczogMTYgfSxcclxuXHRcdFx0JzIgQ29yaW50aGlhbnMnOiB7IG51bWJlcjogJzQ3JywgbmFtZTogJ0lJX0NvcmludGhpYW5zJywgY2hhcHRlcnM6IDEzIH0sXHJcblx0XHRcdCdJSSBDb3JpbnRoaWFucyc6IHsgbnVtYmVyOiAnNDcnLCBuYW1lOiAnSUlfQ29yaW50aGlhbnMnLCBjaGFwdGVyczogMTMgfSxcclxuXHRcdFx0J0dhbGF0aWFucyc6IHsgbnVtYmVyOiAnNDgnLCBuYW1lOiAnR2FsYXRpYW5zJywgY2hhcHRlcnM6IDYgfSxcclxuXHRcdFx0J0VwaGVzaWFucyc6IHsgbnVtYmVyOiAnNDknLCBuYW1lOiAnRXBoZXNpYW5zJywgY2hhcHRlcnM6IDYgfSxcclxuXHRcdFx0J1BoaWxpcHBpYW5zJzogeyBudW1iZXI6ICc1MCcsIG5hbWU6ICdQaGlsaXBwaWFucycsIGNoYXB0ZXJzOiA0IH0sXHJcblx0XHRcdCdDb2xvc3NpYW5zJzogeyBudW1iZXI6ICc1MScsIG5hbWU6ICdDb2xvc3NpYW5zJywgY2hhcHRlcnM6IDQgfSxcclxuXHRcdFx0JzEgVGhlc3NhbG9uaWFucyc6IHsgbnVtYmVyOiAnNTInLCBuYW1lOiAnSV9UaGVzc2Fsb25pYW5zJywgY2hhcHRlcnM6IDUgfSxcclxuXHRcdFx0J0kgVGhlc3NhbG9uaWFucyc6IHsgbnVtYmVyOiAnNTInLCBuYW1lOiAnSV9UaGVzc2Fsb25pYW5zJywgY2hhcHRlcnM6IDUgfSxcclxuXHRcdFx0JzIgVGhlc3NhbG9uaWFucyc6IHsgbnVtYmVyOiAnNTMnLCBuYW1lOiAnSUlfVGhlc3NhbG9uaWFucycsIGNoYXB0ZXJzOiAzIH0sXHJcblx0XHRcdCdJSSBUaGVzc2Fsb25pYW5zJzogeyBudW1iZXI6ICc1MycsIG5hbWU6ICdJSV9UaGVzc2Fsb25pYW5zJywgY2hhcHRlcnM6IDMgfSxcclxuXHRcdFx0JzEgVGltb3RoeSc6IHsgbnVtYmVyOiAnNTQnLCBuYW1lOiAnSV9UaW1vdGh5JywgY2hhcHRlcnM6IDYgfSxcclxuXHRcdFx0J0kgVGltb3RoeSc6IHsgbnVtYmVyOiAnNTQnLCBuYW1lOiAnSV9UaW1vdGh5JywgY2hhcHRlcnM6IDYgfSxcclxuXHRcdFx0JzIgVGltb3RoeSc6IHsgbnVtYmVyOiAnNTUnLCBuYW1lOiAnSUlfVGltb3RoeScsIGNoYXB0ZXJzOiA0IH0sXHJcblx0XHRcdCdJSSBUaW1vdGh5JzogeyBudW1iZXI6ICc1NScsIG5hbWU6ICdJSV9UaW1vdGh5JywgY2hhcHRlcnM6IDQgfSxcclxuXHRcdFx0J1RpdHVzJzogeyBudW1iZXI6ICc1NicsIG5hbWU6ICdUaXR1cycsIGNoYXB0ZXJzOiAzIH0sXHJcblx0XHRcdCdQaGlsZW1vbic6IHsgbnVtYmVyOiAnNTcnLCBuYW1lOiAnUGhpbGVtb24nLCBjaGFwdGVyczogMSB9LFxyXG5cdFx0XHQnSGVicmV3cyc6IHsgbnVtYmVyOiAnNTgnLCBuYW1lOiAnSGVicmV3cycsIGNoYXB0ZXJzOiAxMyB9LFxyXG5cdFx0XHQnSmFtZXMnOiB7IG51bWJlcjogJzU5JywgbmFtZTogJ0phbWVzJywgY2hhcHRlcnM6IDUgfSxcclxuXHRcdFx0JzEgUGV0ZXInOiB7IG51bWJlcjogJzYwJywgbmFtZTogJ0lfUGV0ZXInLCBjaGFwdGVyczogNSB9LFxyXG5cdFx0XHQnSSBQZXRlcic6IHsgbnVtYmVyOiAnNjAnLCBuYW1lOiAnSV9QZXRlcicsIGNoYXB0ZXJzOiA1IH0sXHJcblx0XHRcdCcyIFBldGVyJzogeyBudW1iZXI6ICc2MScsIG5hbWU6ICdJSV9QZXRlcicsIGNoYXB0ZXJzOiAzIH0sXHJcblx0XHRcdCdJSSBQZXRlcic6IHsgbnVtYmVyOiAnNjEnLCBuYW1lOiAnSUlfUGV0ZXInLCBjaGFwdGVyczogMyB9LFxyXG5cdFx0XHQnMSBKb2huJzogeyBudW1iZXI6ICc2MicsIG5hbWU6ICdJX0pvaG4nLCBjaGFwdGVyczogNSB9LFxyXG5cdFx0XHQnSSBKb2huJzogeyBudW1iZXI6ICc2MicsIG5hbWU6ICdJX0pvaG4nLCBjaGFwdGVyczogNSB9LFxyXG5cdFx0XHQnMiBKb2huJzogeyBudW1iZXI6ICc2MycsIG5hbWU6ICdJSV9Kb2huJywgY2hhcHRlcnM6IDEgfSxcclxuXHRcdFx0J0lJIEpvaG4nOiB7IG51bWJlcjogJzYzJywgbmFtZTogJ0lJX0pvaG4nLCBjaGFwdGVyczogMSB9LFxyXG5cdFx0XHQnMyBKb2huJzogeyBudW1iZXI6ICc2NCcsIG5hbWU6ICdJSUlfSm9obicsIGNoYXB0ZXJzOiAxIH0sXHJcblx0XHRcdCdJSUkgSm9obic6IHsgbnVtYmVyOiAnNjQnLCBuYW1lOiAnSUlJX0pvaG4nLCBjaGFwdGVyczogMSB9LFxyXG5cdFx0XHQnSnVkZSc6IHsgbnVtYmVyOiAnNjUnLCBuYW1lOiAnSnVkZScsIGNoYXB0ZXJzOiAxIH0sXHJcblx0XHRcdCdSZXZlbGF0aW9uJzogeyBudW1iZXI6ICc2NicsIG5hbWU6ICdSZXZlbGF0aW9ucycsIGNoYXB0ZXJzOiAyMiB9LFxyXG5cdFx0XHQnUmV2ZWxhdGlvbnMnOiB7IG51bWJlcjogJzY2JywgbmFtZTogJ1JldmVsYXRpb25zJywgY2hhcHRlcnM6IDIyIH1cclxuXHRcdH07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBbbmFtZSwgaW5mb10gb2YgT2JqZWN0LmVudHJpZXMoYm9va3MpKSB7XHJcblx0XHRcdGNvbnN0IGxvd2VyS2V5ID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHR0aGlzLmJpYmxlQm9va3Muc2V0KGxvd2VyS2V5LCBpbmZvKTtcclxuXHRcdFx0dGhpcy5vcmlnaW5hbEJvb2tOYW1lcy5zZXQobG93ZXJLZXksIG5hbWUpOyAvLyBTdG9yZSBvcmlnaW5hbCBjYXNlXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwYXJzZUJpYmxlUmVmZXJlbmNlKHRleHQ6IHN0cmluZyk6IHsgYm9vazogc3RyaW5nOyBjaGFwdGVyOiBudW1iZXIgfCBudWxsOyB2ZXJzZXM6IHN0cmluZ1tdIH0gfCBudWxsIHtcclxuXHRcdGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcclxuXHRcdFxyXG5cdFx0Ly8gVHJ5IHRvIG1hdGNoIGJvb2sgbmFtZVxyXG5cdFx0Y29uc3QgYm9va01hdGNoID0gdGhpcy5maW5kQm9va01hdGNoKHRyaW1tZWQpO1xyXG5cdFx0aWYgKCFib29rTWF0Y2gpIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IHsgYm9vaywgcmVtYWluaW5nIH0gPSBib29rTWF0Y2g7XHJcblx0XHRcclxuXHRcdGlmICghcmVtYWluaW5nLnRyaW0oKSkge1xyXG5cdFx0XHRyZXR1cm4geyBib29rLCBjaGFwdGVyOiBudWxsLCB2ZXJzZXM6IFtdIH07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUGFyc2UgY2hhcHRlciBhbmQgdmVyc2VzXHJcblx0XHRjb25zdCBjaGFwdGVyVmVyc2VNYXRjaCA9IHJlbWFpbmluZy5tYXRjaCgvXihcXGQrKSg/OjooLispKT8kLyk7XHJcblx0XHRpZiAoIWNoYXB0ZXJWZXJzZU1hdGNoKSByZXR1cm4gbnVsbDtcclxuXHJcblx0XHRjb25zdCBjaGFwdGVyID0gcGFyc2VJbnQoY2hhcHRlclZlcnNlTWF0Y2hbMV0pO1xyXG5cdFx0Y29uc3QgdmVyc2VTdHJpbmcgPSBjaGFwdGVyVmVyc2VNYXRjaFsyXTtcclxuXHJcblx0XHRpZiAoIXZlcnNlU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiB7IGJvb2ssIGNoYXB0ZXIsIHZlcnNlczogW10gfTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBQYXJzZSB2ZXJzZXNcclxuXHRcdGNvbnN0IHZlcnNlcyA9IHRoaXMucGFyc2VWZXJzZXModmVyc2VTdHJpbmcpO1xyXG5cdFx0cmV0dXJuIHsgYm9vaywgY2hhcHRlciwgdmVyc2VzIH07XHJcblx0fVxyXG5cclxuXHRmaW5kQm9va01hdGNoKHRleHQ6IHN0cmluZyk6IHsgYm9vazogc3RyaW5nOyByZW1haW5pbmc6IHN0cmluZyB9IHwgbnVsbCB7XHJcblx0XHRjb25zdCBzb3J0ZWRCb29rcyA9IEFycmF5LmZyb20odGhpcy5iaWJsZUJvb2tzLmtleXMoKSkuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCk7XHJcblx0XHRcclxuXHRcdGZvciAoY29uc3QgYm9va0tleSBvZiBzb3J0ZWRCb29rcykge1xyXG5cdFx0XHRjb25zdCBib29rSW5mbyA9IHRoaXMuYmlibGVCb29rcy5nZXQoYm9va0tleSk7XHJcblx0XHRcdGlmICghYm9va0luZm8pIGNvbnRpbnVlO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgYm9va05hbWUgPSB0aGlzLmdldEJvb2tEaXNwbGF5TmFtZShib29rS2V5KTtcclxuXHRcdFx0Y29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBeJHtib29rTmFtZS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpfVxcXFxzKiguKikkYCwgJ2knKTtcclxuXHRcdFx0Y29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKHJlZ2V4KTtcclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGJvb2s6IGJvb2tOYW1lLFxyXG5cdFx0XHRcdFx0cmVtYWluaW5nOiBtYXRjaFsxXS50cmltKClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Z2V0Qm9va0Rpc3BsYXlOYW1lKGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdC8vIFJldHVybiB0aGUgb3JpZ2luYWwgY2FzZSBmcm9tIG91ciBtYXBwaW5nXHJcblx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEJvb2tOYW1lcy5nZXQoa2V5KSB8fCBrZXk7XHJcblx0fVxyXG5cclxuXHRwYXJzZVZlcnNlcyh2ZXJzZVN0cmluZzogc3RyaW5nKTogc3RyaW5nW10ge1xyXG5cdFx0Y29uc3QgdmVyc2VzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgcGFydHMgPSB2ZXJzZVN0cmluZy5zcGxpdCgnLCcpO1xyXG5cdFx0XHJcblx0XHRmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcclxuXHRcdFx0Y29uc3QgdHJpbW1lZCA9IHBhcnQudHJpbSgpO1xyXG5cdFx0XHRpZiAodHJpbW1lZC5pbmNsdWRlcygnLScpKSB7XHJcblx0XHRcdFx0Y29uc3QgW3N0YXJ0LCBlbmRdID0gdHJpbW1lZC5zcGxpdCgnLScpLm1hcCh2ID0+IHBhcnNlSW50KHYudHJpbSgpKSk7XHJcblx0XHRcdFx0aWYgKHN0YXJ0ICYmIGVuZCAmJiBzdGFydCA8PSBlbmQpIHtcclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2ZXJzZXMucHVzaChpLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zdCB2ZXJzZU51bSA9IHBhcnNlSW50KHRyaW1tZWQpO1xyXG5cdFx0XHRcdGlmICh2ZXJzZU51bSkge1xyXG5cdFx0XHRcdFx0dmVyc2VzLnB1c2godmVyc2VOdW0udG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiB2ZXJzZXM7XHJcblx0fVxyXG5cclxuXHRnZW5lcmF0ZUJpYmxlTGluayhyZWZlcmVuY2U6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBwYXJzZWQgPSB0aGlzLnBhcnNlQmlibGVSZWZlcmVuY2UocmVmZXJlbmNlKTtcclxuXHRcdGlmICghcGFyc2VkKSByZXR1cm4gYFtbJHtyZWZlcmVuY2V9XV1gO1xyXG5cclxuXHRcdGNvbnN0IHsgYm9vaywgY2hhcHRlciwgdmVyc2VzIH0gPSBwYXJzZWQ7XHJcblx0XHRcclxuXHRcdGlmICghY2hhcHRlcikge1xyXG5cdFx0XHRyZXR1cm4gYFtbJHtib29rfV1dYDtcclxuXHRcdH0gZWxzZSBpZiAoIXZlcnNlcyB8fCB2ZXJzZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHJldHVybiBgW1ske2Jvb2t9ICR7Y2hhcHRlcn1dXWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCB2ZXJzZVN0cmluZyA9IHZlcnNlcy5sZW5ndGggPT09IDEgPyB2ZXJzZXNbMF0gOiB2ZXJzZXMuam9pbignLCcpO1xyXG5cdFx0XHRyZXR1cm4gYFtbJHtib29rfSAke2NoYXB0ZXJ9OiR7dmVyc2VTdHJpbmd9XV1gO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFsaWRhdGVCaWJsZVJlZmVyZW5jZShyZWZlcmVuY2U6IHN0cmluZyk6IHsgaXNWYWxpZDogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0ge1xyXG5cdFx0Y29uc3QgcGFyc2VkID0gdGhpcy5wYXJzZUJpYmxlUmVmZXJlbmNlKHJlZmVyZW5jZSk7XHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRyZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgcmVmZXJlbmNlIGZvcm1hdCcgfTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB7IGJvb2ssIGNoYXB0ZXIgfSA9IHBhcnNlZDtcclxuXHRcdGNvbnN0IGJvb2tLZXkgPSBib29rLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRjb25zdCBib29rSW5mbyA9IHRoaXMuYmlibGVCb29rcy5nZXQoYm9va0tleSk7XHJcblx0XHRcclxuXHRcdGlmICghYm9va0luZm8pIHtcclxuXHRcdFx0cmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIG1lc3NhZ2U6IGBCb29rIFwiJHtib29rfVwiIG5vdCBmb3VuZGAgfTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2hhcHRlciAmJiAoY2hhcHRlciA8IDEgfHwgY2hhcHRlciA+IGJvb2tJbmZvLmNoYXB0ZXJzKSkge1xyXG5cdFx0XHRyZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgbWVzc2FnZTogYENoYXB0ZXIgJHtjaGFwdGVyfSBub3QgZm91bmQgaW4gJHtib29rfSAoMS0ke2Jvb2tJbmZvLmNoYXB0ZXJzfSlgIH07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgbWVzc2FnZTogJ1ZhbGlkIHJlZmVyZW5jZScgfTtcclxuXHR9XHJcblxyXG5cdGNvbnZlcnRTZWxlY3RlZFRleHQoZWRpdG9yOiBhbnkpIHtcclxuXHRcdGNvbnN0IHNlbGVjdGVkVGV4dCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcclxuXHRcdGlmICghc2VsZWN0ZWRUZXh0KSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1BsZWFzZSBzZWxlY3Qgc29tZSB0ZXh0IHRvIGNvbnZlcnQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxpbmsgPSB0aGlzLmdlbmVyYXRlQmlibGVMaW5rKHNlbGVjdGVkVGV4dCk7XHJcblx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihsaW5rKTtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlVmFsaWRhdGlvbikge1xyXG5cdFx0XHRjb25zdCB2YWxpZGF0aW9uID0gdGhpcy52YWxpZGF0ZUJpYmxlUmVmZXJlbmNlKHNlbGVjdGVkVGV4dCk7XHJcblx0XHRcdGlmICh2YWxpZGF0aW9uLmlzVmFsaWQpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBDb252ZXJ0ZWQ6ICR7c2VsZWN0ZWRUZXh0fSBcdTIxOTIgJHtsaW5rfWApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYFdhcm5pbmc6ICR7dmFsaWRhdGlvbi5tZXNzYWdlfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb252ZXJ0QWxsUmVmZXJlbmNlcyhlZGl0b3I6IGFueSkge1xyXG5cdFx0Y29uc3QgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xyXG5cdFx0Y29uc3QgYmlibGVSZWZSZWdleCA9IC9cXGIoPzpHZW5lc2lzfEV4b2R1c3xMZXZpdGljdXN8TnVtYmVyc3xEZXV0ZXJvbm9teXxKb3NodWF8SnVkZ2VzfFJ1dGh8MVxccytTYW11ZWx8MlxccytTYW11ZWx8SVxccytTYW11ZWx8SUlcXHMrU2FtdWVsfDFcXHMrS2luZ3N8MlxccytLaW5nc3xJXFxzK0tpbmdzfElJXFxzK0tpbmdzfDFcXHMrQ2hyb25pY2xlc3wyXFxzK0Nocm9uaWNsZXN8SVxccytDaHJvbmljbGVzfElJXFxzK0Nocm9uaWNsZXN8RXpyYXxOZWhlbWlhaHxFc3RoZXJ8Sm9ifFBzYWxtc3xQcm92ZXJic3xFY2NsZXNpYXN0ZXN8U29uZ1xccytvZlxccytTb2xvbW9ufFNvbmdcXHMrb2ZcXHMrU29uZ3N8SXNhaWFofEplcmVtaWFofExhbWVudGF0aW9uc3xFemVraWVsfERhbmllbHxIb3NlYXxKb2VsfEFtb3N8T2JhZGlhaHxKb25haHxNaWNhaHxOYWh1bXxIYWJha2t1a3xaZXBoYW5pYWh8SGFnZ2FpfFplY2hhcmlhaHxNYWxhY2hpfE1hdHRoZXd8TWFya3xMdWtlfEpvaG58QWN0c3xSb21hbnN8MVxccytDb3JpbnRoaWFuc3wyXFxzK0NvcmludGhpYW5zfElcXHMrQ29yaW50aGlhbnN8SUlcXHMrQ29yaW50aGlhbnN8R2FsYXRpYW5zfEVwaGVzaWFuc3xQaGlsaXBwaWFuc3xDb2xvc3NpYW5zfDFcXHMrVGhlc3NhbG9uaWFuc3wyXFxzK1RoZXNzYWxvbmlhbnN8SVxccytUaGVzc2Fsb25pYW5zfElJXFxzK1RoZXNzYWxvbmlhbnN8MVxccytUaW1vdGh5fDJcXHMrVGltb3RoeXxJXFxzK1RpbW90aHl8SUlcXHMrVGltb3RoeXxUaXR1c3xQaGlsZW1vbnxIZWJyZXdzfEphbWVzfDFcXHMrUGV0ZXJ8MlxccytQZXRlcnxJXFxzK1BldGVyfElJXFxzK1BldGVyfDFcXHMrSm9obnwyXFxzK0pvaG58M1xccytKb2hufElcXHMrSm9obnxJSVxccytKb2hufElJSVxccytKb2hufEp1ZGV8UmV2ZWxhdGlvbnxSZXZlbGF0aW9ucykoPzpcXHMrXFxkKyg/OjpcXGQrKD86LVxcZCspPyg/OixcXGQrKD86LVxcZCspPykqKT8pP1xcYi9nO1xyXG5cdFx0XHJcblx0XHRsZXQgbmV3Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRsZXQgbWF0Y2g7XHJcblx0XHRsZXQgY29udmVydGVkQ291bnQgPSAwO1xyXG5cclxuXHRcdHdoaWxlICgobWF0Y2ggPSBiaWJsZVJlZlJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XHJcblx0XHRcdGNvbnN0IHJlZmVyZW5jZSA9IG1hdGNoWzBdO1xyXG5cdFx0XHRpZiAoIXJlZmVyZW5jZS5pbmNsdWRlcygnW1snKSAmJiAhcmVmZXJlbmNlLmluY2x1ZGVzKCddXScpKSB7XHJcblx0XHRcdFx0Y29uc3QgbGluayA9IHRoaXMuZ2VuZXJhdGVCaWJsZUxpbmsocmVmZXJlbmNlKTtcclxuXHRcdFx0XHRuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKHJlZmVyZW5jZSwgbGluayk7XHJcblx0XHRcdFx0Y29udmVydGVkQ291bnQrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGVkaXRvci5zZXRWYWx1ZShuZXdDb250ZW50KTtcclxuXHRcdG5ldyBOb3RpY2UoYENvbnZlcnRlZCAke2NvbnZlcnRlZENvdW50fSBCaWJsZSByZWZlcmVuY2VzIHRvIGxpbmtzYCk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGVQYXN0ZShlZGl0b3I6IGFueSwgaW5mbzogYW55KSB7XHJcblx0XHQvLyBUaGlzIHdvdWxkIGhhbmRsZSBhdXRvLWxpbmtpbmcgb24gcGFzdGVcclxuXHRcdC8vIEltcGxlbWVudGF0aW9uIGRlcGVuZHMgb24gc3BlY2lmaWMgcmVxdWlyZW1lbnRzXHJcblx0fVxyXG5cclxuXHRzaG93QmlibGVMaW5rTW9kYWwoKSB7XHJcblx0XHQvLyBDcmVhdGUgYSBzaW1wbGUgbW9kYWwgZm9yIGluc2VydGluZyBCaWJsZSBsaW5rc1xyXG5cdFx0Y29uc3QgbW9kYWwgPSBuZXcgQmlibGVMaW5rTW9kYWwodGhpcy5hcHAsIHRoaXMpO1xyXG5cdFx0bW9kYWwub3BlbigpO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgQmlibGVMaW5rTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cGx1Z2luOiBMaW5rYUJpYmxlUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBMaW5rYUJpYmxlUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdJbnNlcnQgQmlibGUgTGluaycgfSk7XHJcblxyXG5cdFx0Y29uc3QgaW5wdXQgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdHBsYWNlaG9sZGVyOiAnRW50ZXIgQmlibGUgcmVmZXJlbmNlIChlLmcuLCBKYW1lcyA0OjEtMiknXHJcblx0XHR9KTtcclxuXHRcdGlucHV0LnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDEwMCU7IG1hcmdpbjogMTBweCAwOyBwYWRkaW5nOiA4cHg7JztcclxuXHJcblx0XHRjb25zdCByZXN1bHREaXYgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHtcclxuXHRcdFx0dGV4dDogJ0xpbmsgd2lsbCBhcHBlYXIgaGVyZS4uLidcclxuXHRcdH0pO1xyXG5cdFx0cmVzdWx0RGl2LnN0eWxlLmNzc1RleHQgPSAnbWFyZ2luOiAxMHB4IDA7IHBhZGRpbmc6IDhweDsgYmFja2dyb3VuZDogI2YwZjBmMDsgYm9yZGVyLXJhZGl1czogNHB4Oyc7XHJcblxyXG5cdFx0Y29uc3QgYnV0dG9uRGl2ID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnKTtcclxuXHRcdGJ1dHRvbkRpdi5zdHlsZS5jc3NUZXh0ID0gJ21hcmdpbjogMTBweCAwOyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IGluc2VydEJ0biA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnSW5zZXJ0IExpbmsnIH0pO1xyXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gYnV0dG9uRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xyXG5cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCByZWZlcmVuY2UgPSBpbnB1dC52YWx1ZS50cmltKCk7XHJcblx0XHRcdGlmIChyZWZlcmVuY2UpIHtcclxuXHRcdFx0XHRjb25zdCBsaW5rID0gdGhpcy5wbHVnaW4uZ2VuZXJhdGVCaWJsZUxpbmsocmVmZXJlbmNlKTtcclxuXHRcdFx0XHRjb25zdCB2YWxpZGF0aW9uID0gdGhpcy5wbHVnaW4udmFsaWRhdGVCaWJsZVJlZmVyZW5jZShyZWZlcmVuY2UpO1xyXG5cdFx0XHRcdHJlc3VsdERpdi5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0XHQ8c3Ryb25nPkxpbms6PC9zdHJvbmc+ICR7bGlua308YnI+XHJcblx0XHRcdFx0XHQ8c3Ryb25nPlZhbGlkOjwvc3Ryb25nPiAke3ZhbGlkYXRpb24uaXNWYWxpZCA/ICdZZXMnIDogJ05vJ308YnI+XHJcblx0XHRcdFx0XHQ8c3Ryb25nPk1lc3NhZ2U6PC9zdHJvbmc+ICR7dmFsaWRhdGlvbi5tZXNzYWdlfVxyXG5cdFx0XHRcdGA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0RGl2LnRleHRDb250ZW50ID0gJ0xpbmsgd2lsbCBhcHBlYXIgaGVyZS4uLic7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGluc2VydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVmZXJlbmNlID0gaW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdFx0XHRpZiAocmVmZXJlbmNlKSB7XHJcblx0XHRcdFx0Y29uc3QgbGluayA9IHRoaXMucGx1Z2luLmdlbmVyYXRlQmlibGVMaW5rKHJlZmVyZW5jZSk7XHJcblx0XHRcdFx0Y29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcpIHtcclxuXHRcdFx0XHRcdGFjdGl2ZVZpZXcuZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24obGluayk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnB1dC5mb2N1cygpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBMaW5rYUJpYmxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTGlua2FCaWJsZVBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGlua2FCaWJsZVBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQmlibGUgTGlua2VyIFNldHRpbmdzJyB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0JpYmxlIGZvbGRlciBwYXRoJylcclxuXHRcdFx0LnNldERlc2MoJ1BhdGggdG8geW91ciBCaWJsZSBmb2xkZXIgKHJlbGF0aXZlIHRvIHZhdWx0IHJvb3QpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCcxIEJpYmxlJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmlibGVQYXRoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJpYmxlUGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIGF1dG8tbGlua2luZycpXHJcblx0XHRcdC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IGNvbnZlcnQgQmlibGUgcmVmZXJlbmNlcyB3aGVuIHBhc3RpbmcgdGV4dCcpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVBdXRvTGluaylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVBdXRvTGluayA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIHZhbGlkYXRpb24nKVxyXG5cdFx0XHQuc2V0RGVzYygnU2hvdyB2YWxpZGF0aW9uIG1lc3NhZ2VzIHdoZW4gY29udmVydGluZyByZWZlcmVuY2VzJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVZhbGlkYXRpb24pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlVmFsaWRhdGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0F2YWlsYWJsZSBDb21tYW5kcycgfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1x1MjAyMiBDb252ZXJ0IEJpYmxlIFJlZmVyZW5jZSB0byBMaW5rIC0gQ29udmVydCBzZWxlY3RlZCB0ZXh0JyB9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnXHUyMDIyIENvbnZlcnQgQWxsIEJpYmxlIFJlZmVyZW5jZXMgaW4gTm90ZSAtIENvbnZlcnQgYWxsIHJlZmVyZW5jZXMgaW4gY3VycmVudCBub3RlJyB9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnXHUyMDIyIEluc2VydCBCaWJsZSBMaW5rIC0gT3BlbiBtb2RhbCB0byBpbnNlcnQgYSBCaWJsZSBsaW5rJyB9KTtcclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUEyRjtBQVMzRixJQUFNLG1CQUF3QztBQUFBLEVBQzdDLFdBQVc7QUFBQSxFQUNYLGdCQUFnQjtBQUFBLEVBQ2hCLFlBQVk7QUFBQSxFQUNaLGtCQUFrQjtBQUNuQjtBQUVBLElBQXFCLG1CQUFyQixjQUE4Qyx1QkFBTztBQUFBLEVBQXJEO0FBQUE7QUFFQyxTQUFRLGFBQThFLG9CQUFJLElBQUk7QUFDOUYsU0FBUSxvQkFBeUMsb0JBQUksSUFBSTtBQUFBO0FBQUE7QUFBQSxFQUV6RCxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFB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QU0sUUFBUSxVQUFVLEVBQUU7QUFBQSxNQUNsRCxRQUFRLEVBQUUsUUFBUSxNQUFNLE1BQU0sUUFBUSxVQUFVLEVBQUU7QUFBQSxNQUNsRCxXQUFXLEVBQUUsUUFBUSxNQUFNLE1BQU0sV0FBVyxVQUFVLEVBQUU7QUFBQSxNQUN4RCxTQUFTLEVBQUUsUUFBUSxNQUFNLE1BQU0sU0FBUyxVQUFVLEVBQUU7QUFBQSxNQUNwRCxTQUFTLEVBQUUsUUFBUSxNQUFNLE1BQU0sU0FBUyxVQUFVLEVBQUU7QUFBQSxNQUNwRCxTQUFTLEVBQUUsUUFBUSxNQUFNLE1BQU0sU0FBUyxVQUFVLEVBQUU7QUFBQSxNQUNwRCxZQUFZLEVBQUUsUUFBUSxNQUFNLE1BQU0sWUFBWSxVQUFVLEVBQUU7QUFBQSxNQUMxRCxhQUFhLEVBQUUsUUFBUSxNQUFNLE1BQU0sYUFBYSxVQUFVLEVBQUU7QUFBQSxNQUM1RCxVQUFVLEVBQUUsUUFBUSxNQUFNLE1BQU0sVUFBVSxVQUFVLEVBQUU7QUFBQSxNQUN0RCxhQUFhLEVBQUUsUUFBUSxNQUFNLE1BQU0sYUFBYSxVQUFVLEdBQUc7QUFBQSxNQUM3RCxXQUFXLEVBQUUsUUFBUSxNQUFNLE1BQU0sV0FBVyxVQUFVLEVBQUU7QUFBQTtBQUFBLE1BR3hELFdBQVcsRUFBRSxRQUFRLE1BQU0sTUFBTSxXQUFXLFVBQVUsR0FBRztBQUFBLE1BQ3pELFFBQVEsRUFBRSxRQUFRLE1BQU0sTUFBTSxRQUFRLFVBQVUsR0FBRztBQUFBLE1BQ25ELFFBQVEsRUFBRSxRQUFRLE1BQU0sTUFBTSxRQUFRLFVBQVUsR0FBRztBQUFBLE1BQ25ELFFBQVEsRUFBRSxRQUFRLE1BQU0sTUFBTSxRQUFRLFVBQVUsR0FBRztBQUFBLE1BQ25ELFFBQVEsRUFBRSxRQUFRLE1BQU0sTUFBTSxRQUFRLFVBQVUsR0FBRztBQUFBLE1BQ25ELFVBQVUsRUFBRSxRQUFRLE1BQU0sTUFBTSxVQUFVLFVBQVUsR0FBRztBQUFBLE1BQ3ZELGlCQUFpQixFQUFFLFFBQVEsTUFBTSxNQUFNLGlCQUFpQixVQUFVLEdBQUc7QUFBQSxN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
